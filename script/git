#!/usr/bin/env manage
#
# vim: set ft=sh:
#
# <doc>
#
# Hello World
#
# </doc>
#
# <import>
#
# collection-shell
# collection-message
# collection-string
#
# </import>
#
# <dependency>
#
# bash
#
# </dependency>

verify () {
    _ required "$1" ||
        return 1

    git tag -v "$1" > /dev/null 2>&1
}

main ()
{
    verbose true
    strict true
    local pwd
    local tag
    local tags
    local cwd
    local versions

    cwd="$(pwd)"

    # echo "${MANAGEURL}"
    echo "# maintainer: ${MANAGEMAINTAINER}"
    # cd "${MANAGEDIRECTORY}"

    tags=($(git tag --sort -v:refname))
    versions=()


    for tag in "${tags[@]}"
    do
        if verify "${tag}"
        then
            versions+="${tag}"
        fi
    done

    for version in "${versions[@]}"
    do
        echo "${version}"
    done
    # git show -s --format=%H

    cd "${cwd}" || exit
}

onexit ()
{
    if (( $1 == 0 ))
    then
        _ info "Exiting."
        _ warn "Exiting."
        _ error "Exiting."
    else
        _ error "An error with exit code \"$1\" has occured."
    fi
}

